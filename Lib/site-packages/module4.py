def selfmodifyingComparison(x,y):
    z.append(1)
    if x == y:
        return 0
    elif x < y:
        return -1
    else: # x > y
        return 1

from functools import cmp_to_key

z = list(range(10))
z.sort(key=cmp_to_key(selfmodifyingComparison))